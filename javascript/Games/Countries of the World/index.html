<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>World Geography</title>
		<script src="mapdata.js"></script>
		<script src="worldmap.js"></script>
	</head>
	<body>
		<div style="width: 1500px; height: 1000px;">
			<div id="map"></div>
		</div>
		<script type="text/javascript"> 
			simplemaps_worldmap.hooks.click_state = function(id){ // Name of clicked object
				
				var name = simplemaps_worldmap_mapdata.state_specific[id].name;
// 				console.log(name, id, goal);

				quiz_status();
				
				
				return false;
			};
			
			setTimeout(function() {
				var elements = document.getElementsByTagName('svg');
				elements.item(2).setAttribute("height", "2000px");
				
				quiz_status();
			}, 2000);
			
			var getRandomName = function() {
			
				var p = Math.random();
				var rand = Math.floor( p * count ); // Range 1 - 10
				
				return state_specific[states[rand]].name;
				
			};
			
			var goal = undefined;
			var quiz_status = function(name=-1) {
				var success = "";
				
				if (name == goal) {
					success = "You found "+name+"!";
				}
				
				var next = false;
				goal = getRandomName();
							
				while (next == false) {
					goal = getRandomName();
					next = confirm( success + "Would you like to find "+goal+"?");
				}
			
			};
			
			var count = 0;	
			var states = [];					
			var names = [];
			var state_specific = simplemaps_worldmap_mapdata.state_specific;
			
			for (state in state_specific) {
				console.log(state_specific[state].name);
				states.push(state);
				names.push(state_specific[state].name);
				count ++;
			};
			
			console.log(count);
		</script>		
	</body>
</html>